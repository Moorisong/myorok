# Page Spec Agent Reference

## Page Spec (PAGE_SPEC.md)

# 📱 페이지 라우터 및 UI/UX 명세

> React Native (Expo Router) 기반 모바일 앱 페이지 구조

---

## 1. 파일 기반 라우팅 구조 (Expo Router)

```
app/
├── (tabs)/                  # 하단 탭 네비게이션
│   ├── index.tsx            # [1] 오늘 탭 (메인) - /
│   ├── calendar.tsx         # [2] 캘린더 탭 - /calendar
│   ├── charts/              # [3] 차트 탭 - /charts
│   │   ├── _layout.tsx      # 상단 탭 (요약/커스텀)
│   │   ├── summary.tsx      # 요약 차트 (병원용)
│   │   └── custom.tsx       # 커스텀 차트
│   └── settings.tsx         # [4] 설정 탭 - /settings
├── subscribe/               # 구독 관련
│   └── index.tsx            # 구독 안내 및 결제 페이지
└── about.tsx                # 앱 정보 / 문의
```

---

## 2. 공통 UI/UX 원칙

### 2.1 진입 장벽 제거
- **앱 실행 즉시 '오늘 기록' 화면 노출**
- 로딩, 스플래시 최소화
- 로그인 없음 (디바이스 인증)

### 2.2 일일 누적 시스템 (Daily Accumulation)
- 모든 기록은 **'오늘 하루 얼마나 했나'**를 보여주는 누적형 UI
- 예: "소변 3회" (단순 리스트 나열 아님)

### 2.3 수정의 자유
- 기록된 수치나 항목은 언제든 탭하여 수정 가능
- **Long Press** 또는 **터치**로 수정 모달 진입

---

## 3. 페이지별 상세 명세

### 3.1 오늘 탭 (`/`) - **핵심 기능**
빠른 기록을 위한 대시보드
- **상단**: 날짜 표시, 고양이 상태 요약
- **빠른 기록 버튼**:
  - 소변 / 대변 (+1 카운터)
  - 구토 / 설사 (증상 체크)
  - 약 복용 (체크박스)
  - 수액 (용량 입력)
- **메모**: 자유 텍스트 입력

### 3.2 캘린더 탭 (`/calendar`)
과거 기록 조회 및 패턴 확인
- **월간 뷰**: 날짜별 점(Dot) 표시
  - ● 기록 있음
  - 🔴 특이사항 (구토/설사)
- **일간 뷰 (하단)**: 선택한 날짜의 요약 정보 표시

### 3.3 차트 탭 (`/charts`)
병원 제시용 데이터 시각화
- **요약 탭** (`/charts/summary`): 의사에게 보여줄 핵심 지표 (7일/30일)
- **커스텀 탭** (`/charts/custom`): 집사가 설정한 특정 수치 변화

### 3.4 설정 탭 (`/settings`)
- 고양이 관리 (추가/수정)
- 데이터 백업/복원
- 구독 관리
- 비밀번호(PIN) 잠금
- 데이터 초기화

**데이터 초기화 상세**

| 항목 | 내용 |
|------|------|
| 역할 | 앱 내 모든 기록 데이터 삭제 |
| 버튼 스타일 | Error 컬러 강조 (위험 표시) |
| 구독 상태 | 유지 (trial/active/expired 삭제 안 함) |
| 고양이 정보 | 유지 (등록된 고양이 삭제 안 함) |

**컨펌 다이얼로그:**
```
⚠️ 초기화를 진행하면 모든 기록이 삭제됩니다.
구독 상태는 유지되며, 삭제된 데이터는 복구할 수 없습니다.
정말 초기화하시겠습니까?
```

| 버튼 | 동작 |
|------|------|
| 취소 | 아무 작업도 수행하지 않음 |
| 확인 | 하드 삭제 수행 (복구 불가) |

**삭제 대상:** daily_records, supplements, supplement_records, fluid_records, custom_metrics, custom_metric_records, medication_memos, food_preference_memos

**유지 대상:** pets, subscription_state

---

## 4. 구독 유도 UX (`/subscribe`)

- **진입 시점**:
  - 무료 체험 7일 종료 후 앱 진입 시 (Modal)
  - 설정 탭 > '구독 관리' 클릭 시
- **구성**:
  - 서비스 가치 설명 (병원비 절약, 데이터 영구 보전)
  - 결제 버튼 (월 3,500원)
  - 하단 '구독 복원' 버튼

---

## 관련 에이전트 문서

| 문서 | 역할 |
|------|------|
| [TabUXAgent.md](./TabUXAgent.md) | 탭별 역할 및 인터랙션 상세 |
| [DesignSystemAgent.md](./DesignSystemAgent.md) | 컬러/폰트/컴포넌트 스타일 |

---

## AI 작업 지침

### 목적
페이지 라우팅 구조 및 각 페이지 기능 구현

### 작업 단계
1. Expo Router 파일 기반 라우팅 구조 확인
2. 각 페이지의 역할 및 기능 확인
3. 공통 UI/UX 원칙 (진입 장벽 제거, 일일 누적, 수정의 자유) 준수
4. 페이지 구현 시 관련 에이전트 문서 참조 (TabUXAgent, DesignSystemAgent)

### 주의사항
- 앱 실행 시 오늘 기록 화면으로 진입
- 로그인 없음 (디바이스 인증)
- 탭별 역할 구분은 TabUXAgent.md 참조
- 디자인 스타일은 DesignSystemAgent.md 참조
- 데이터 초기화는 하드 삭제, 복구 불가
