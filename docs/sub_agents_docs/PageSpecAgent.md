# Page Spec Agent Reference

## Page Spec (PAGE_SPEC.md)
# 📱 페이지 라우터 및 UI/UX 명세

> React Native (Expo Router) 기반 모바일 앱 페이지 구조

---

## 1. 파일 기반 라우팅 구조 (Expo Router)

```
app/
├── (tabs)/                  # 하단 탭 네비게이션
│   ├── index.tsx            # [1] 오늘 탭 (메인) - /
│   ├── calendar.tsx         # [2] 캘린더 탭 - /calendar
│   ├── charts/              # [3] 차트 탭 - /charts
│   │   ├── _layout.tsx      # 상단 탭 (요약/커스텀)
│   │   ├── summary.tsx      # 요약 차트 (병원용)
│   │   └── custom.tsx       # 커스텀 차트
│   └── settings.tsx         # [4] 설정 탭 - /settings
├── subscribe/               # 구독 관련
│   └── index.tsx            # 구독 안내 및 결제 페이지
└── about.tsx                # 앱 정보 / 문의
```

---

## 2. 공통 UI/UX 원칙

### 2.1 진입 장벽 제거
- **앱 실행 즉시 '오늘 기록' 화면 노출**
- 로딩, 스플래시 최소화
- 로그인 없음 (디바이스 인증)

### 2.2 일일 누적 시스템 (Daily Accumulation)
- 모든 기록은 **'오늘 하루 얼마나 했나'**를 보여주는 누적형 UI
- 예: "소변 3회" (단순 리스트 나열 아님)

### 2.3 수정의 자유
- 기록된 수치나 항목은 언제든 탭하여 수정 가능
- **Long Press** 또는 **터치**로 수정 모달 진입

---

## 3. 페이지별 상세 명세

### 3.1 오늘 탭 (`/`) - **핵심 기능**
빠른 기록을 위한 대시보드
- **상단**: 날짜 표시, 고양이 상태 요약
- **빠른 기록 버튼**:
  - 소변 / 대변 (+1 카운터)
  - 구토 / 설사 (증상 체크)
  - 약 복용 (체크박스)
  - 수액 (용량 입력)
- **메모**: 자유 텍스트 입력

### 3.2 캘린더 탭 (`/calendar`)
과거 기록 조회 및 패턴 확인
- **월간 뷰**: 날짜별 점(Dot) 표시
  - ● 기록 있음
  - 🔴 특이사항 (구토/설사)
- **일간 뷰 (하단)**: 선택한 날짜의 요약 정보 표시

### 3.3 차트 탭 (`/charts`)
병원 제시용 데이터 시각화
- **요약 탭** (`/charts/summary`): 의사에게 보여줄 핵심 지표 (7일/30일)
- **커스텀 탭** (`/charts/custom`): 집사가 설정한 특정 수치 변화

### 3.4 설정 탭 (`/settings`)
- 고양이 관리 (추가/수정)
- 데이터 백업/복원
- 구독 관리
- 비밀번호(PIN) 잠금

---

## 4. 구독 유도 UX (`/subscribe`)

- **진입 시점**:
  - 무료 체험 7일 종료 후 앱 진입 시 (Modal)
  - 설정 탭 > '구독 관리' 클릭 시
- **구성**:
  - 서비스 가치 설명 (병원비 절약, 데이터 영구 보전)
  - 결제 버튼 (월 3,500원)
  - 하단 '구매 복원' 버튼

---
## Tab UX Spec (TAB_UX_SPEC.md)
# 탭 구조 및 기록 UX 명세

## 탭 구성
```
[ 오늘 📋 ] [ 캘린더 📅 ] [ 차트 📊 ] [ 설정 ⚙️ ]
```

---

## 탭별 역할 정의 (중복 제거 원칙)

### 1️⃣ 오늘 탭 (입력 / 관리 전용)
**역할**
- 당일 발생한 기록을 즉시 입력·관리하는 화면
- "오늘 관리 대시보드" 역할

**포함 기능**
- 소변 +1 (Undo 토스트)
- 배변 +1 (Undo 토스트)
- 묽은 변 토글 (Undo 토스트)
- 구토 +1 (색상 선택, Undo 토스트)
- 수액 기록 (용량 ml 입력, Undo 토스트)
- 약 / 영양제 체크
- 당일 특이사항 메모

**화면 구성 및 인터랙션**
| 영역 | 위치 | 기능 | 시각적 표시 |
|---|---|---|---|
| **수정 영역** | 카드 상단 | 터치 시 직접 수치 수정 (Modal) | 배경(연한 색), 연필 아이콘(✎) 표시 |
| **+1 버튼** | 카드 하단 | 터치 시 횟수 +1 | 버튼 색상 강조(Primary/Error), + 아이콘 |
| **Undo 토스트** | 화면 하단 | +1 직후 3초간 실행 취소 가능 | '실행 취소' 버튼 포함된 토스트 |

**UX 원칙**
- **버튼 기반 빠른 입력**: +1 버튼 클릭 시 즉시 카운트 증가
- **실수 방지 (Undo)**: 입력 직후 3초간 실행 취소 토스트 표시
- **정밀 수정**: 상단 영역(아이콘/횟수) 터치 시 수치 직접 수정
- **터치 영역 분리**: +1(입력)과 수정(관리) 영역을 명확히 시각적으로 구분
- **직관적 피드백**: 입력 시 진동/애니메이션 제공 (추후 적용)
- 누적 카운트 실시간 표시
- 수정은 당일만 허용

**제외 기능**
- 과거 날짜 조회
- 캘린더 UI
- 이전 기록 수정

---

### 2️⃣ 캘린더 탭 (과거 기록 조회 전용)
**역할**
- 날짜별 기록을 되돌아보는 히스토리 화면

**포함 기능**
- 월간 캘린더 표시
- 날짜별 인디케이터
  - ● 기록 있음
  - 🔴 묽은 변/구토 경고
  - 💊 약/영양제
  - 💧 수액
- 날짜 선택 시 요약 카드 노출
  - 소변/배변/묽은 변/구토 횟수
  - 수액 총량
  - 약/영양제 복용 여부
  - 메모

**UX 원칙**
- 조회 전용 (읽기만 가능)
- 오늘 날짜도 조회는 가능하나 입력/수정 불가

**구독 정책**
- 7일 무료 체험 후 구독 필요
- 체험/구독 사용자: 전체 기간 조회 가능

**제외 기능**
- 기록 추가/수정
- 버튼형 입력 UI

---

### 3️⃣ 차트 탭 (분석 / 병원용)
**역할**
- 장기 변화 추이 분석 및 병원 공유 목적

**포함 기능**
- 기간별 추이 그래프 (배변/묽은 변/구토)
- 커스텀 수치 그래프
- 약/수액 시작·종료 시점 마커 표시

**UX 원칙**
- 입력 기능 없음
- 시각적 비교 중심

---

### 4️⃣ 설정 탭
**역할**
- 앱 및 데이터 관리

**포함 기능**
- 잠금(PIN) 설정
- 데이터 백업/복원
- Pro 업그레이드
- 앱 정보
- 개인정보 처리방침/이용약관
- 데이터 초기화

---

## 수액 기록 위치 정책

| 화면 | 역할 |
|------|------|
| 오늘 탭 | 입력 (용량 ml 추가) |
| 캘린더 | 날짜별 총량 조회 |
| 차트 | 기간별 추이 그래프 |

**이유**: 수액은 '처치 행위'로 당일 관리 대상, 실시간 누적 입력 필요

---

## 기록 가시성 정책

| 상황 | 오늘 탭 | 캘린더/차트 |
|------|---------|-------------|
| 오늘 | 입력/수정 가능 | 조회 가능 |
| 과거 | 비노출 | 조회만 가능 |

> 과거 데이터 수정 불가 (신뢰성 유지)

---

## 핵심 UX 원칙 요약

| 탭 | 역할 | 키워드 |
|----|------|--------|
| 오늘 | 행동 | 입력 |
| 캘린더 | 기억 | 조회 |
| 차트 | 변화 | 분석 |
| 설정 | 관리 | 설정 |

> **각 탭은 단일 역할만 수행하며, 동일 기능을 여러 탭에서 반복하지 않는다.**

---
## Design System (DESIGN_SYSTEM.md)
# 🐾 반려묘 병상일지 앱 – 디자인 시스템 & 기본 설정 명세 (v1.1)

---

## 1. 앱 기본 설정

| 항목 | 값 |
|------|-----|
| 앱 이름 (한글) | **묘록** |
| 앱 이름 (영문) | **Myorok** |
| 패키지 (Android) | `com.myorok.app` |
| 플랫폼 | Android only |

---

## 2. 디자인 시스템

### 2.1 컬러 팔레트

| 역할 | 컬러명 | HEX |
|------|--------|-----|
| Primary | Soft Green | `#5DB075` |
| Secondary | Warm Gray | `#6B6B6B` |
| Background | Light Gray | `#F7F7F7` |
| Surface (Card) | White | `#FFFFFF` |
| Text Primary | Dark Gray | `#2E2E2E` |
| Text Secondary | Gray | `#8A8A8A` |
| Border | Light Border | `#E0E0E0` |
| Error | Soft Red | `#E57373` |
| Warning | Amber | `#FFB300` |

---

### 2.2 폰트

| 항목 | 값 |
|------|-----|
| 기본 폰트 | **NanumSquare** |
| Light | 보조 설명 |
| Regular | 본문 |
| Bold | 제목 / 수치 강조 |

> 의료 기록 가독성 우선, 지나친 장식 제거

---

### 2.3 컴포넌트 스타일

#### 버튼
| 속성 | 값 |
|------|-----|
| Radius | 12px |
| Primary | Primary 컬러 + White 텍스트 |
| Secondary | White 배경 + Border |
| Disabled | Background Gray + Text Secondary |

#### 카드
| 속성 | 값 |
|------|-----|
| Radius | 16px |
| Shadow | 최소 (또는 none) |
| Padding | 16px |

#### 입력 필드
| 속성 | 값 |
|------|-----|
| Radius | 10px |
| Border | 기본 |
| 포커스 시 | Primary 컬러 강조 |

---

## 3. 앱 기본 UX 원칙

- 앱 실행 시 **오늘 기록 화면**
- 모든 기록은 빠르게 입력 가능
- 수정은 언제나 가능
- 감정적 문구 최소화, 객관적 기록 중심

---

## 4. 에러 / 빈 상태 메시지

### 4.1 데이터 없음
- "아직 기록이 없습니다."
- "오늘의 상태를 기록해 주세요."

### 4.2 구독 안내
- "7일 무료 체험이 종료되었습니다."
- "아이의 소중한 기록을 계속 관리하려면 구독해주세요."

### 4.3 네트워크 에러
- "네트워크 연결을 확인해 주세요."
- "백업에 실패했습니다. 다시 시도해 주세요."

### 4.4 치명적 에러
- "일시적인 오류가 발생했습니다."
- "앱을 다시 실행해 주세요."

---

## 5. 구토 색상 라벨 목록

| 라벨 | 설명 |
|------|------|
| 투명 | 위액, 공복 구토 |
| 흰색 | 거품, 위산 |
| 사료토 | 먹은 사료 그대로 |
| 노란색 | 담즙 |
| 갈색 | 음식물 섞임 가능 |
| 혈색 | 혈액 의심 (주의) |

> ⚠️ **혈색 선택 시 경고 문구 표시**
> "혈액이 의심되는 경우 병원 상담을 권장합니다."

---

## 6. 아이콘 가이드

- 심플한 고양이 실루엣
- 기록/의료 느낌 강조
- 파스텔 톤, 캐릭터성 최소화

---

## 7. 문구 톤 가이드

| ❌ 금지 | 이유 |
|--------|------|
| 감정 과잉 | 기록 도구 목적 |
| 보호자 압박 | 부담 최소화 |

> **"예쁘게 보이려고 만든 앱이 아니라, 아이를 지키기 위해 만든 기록 도구"**
